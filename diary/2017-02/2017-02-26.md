# 2016년 2월 26일(일)

## Screeps
시뮬레이션 모드에서 코드를 싹 다 뜯어고치고 있다. 하지만 너무 욕심을 부린 것 같다. 급한 부분부터 모듈을 분리하고 작업해야겠다.
그리고 지금 걸 v2로 해서 어디 보관해놓기도 해야겠다.

Atanner가 간봤다. 공격대를 보냈는데 본격적으로 보낸 건 아니고 그냥 간봤다. 나도 그냥 이건 저강도 분쟁 정도로 간주하고 선전포고로는 간주하지 않을 생각이며 미네랄 조공보내는 것도 그대로 보낼 생각이다. 좀 더달라고 징징대면 좀 양을 늘려줄 의향도 있다. 어차피 당분간은 쓸 일이 없는 자원이라. 나중에 쓸 일 생기면 GCL이 넉넉할테니 본진자원쯤은 포기할 수도 있고.

Cryo를 괜히 쳤나보다. 그냥 살려둘걸. 딴놈이 엉뚱하게 방 먹게 생겼다. GCL을 더 가속시킬 방법은 딱히 없는 것 같다. 리모트 하베스터를 마구 보낸다 쳐도 글쎄올씨다.

난잡하게 있던 크립 액션들을 파일 하나에 몰아넣었다. 여기서 시작하자.

스테이트 적용, 타겟 뿐만 아니라 도착해서의 액션도 지정해 줄 필요가 있다.
그리고 새틀러는 그렇다치고, 리모트 하베스터는 별도의 시티 플래너가 필요하다.
그리고 타워는 개별 동작 개체니까 그냥 쓰면 되는데, 링크는 방 단위로 그룹화하는 특징이 있어서 방에 소속해야 할 것 같다. 지금은 따로 방 개체를 운영하지 않는다.

크립의 생성에는 방의 상태에 대한 함수가 필요. 즉 스폰 룰에는 현재 방 상태에 대한 함수가 필요.
방에 대한 커스텀 롤을 저장할 수도 있어야 한다.
어쨌든 생성 롤은 나중에 하고, 크립을 상태기반으로 바꾸자.


왠지 하루종일 잠만 잤다. 왜 이렇게 피곤한지 모르겠다.
Home3의 Storage가 과도하게 차올라서 업그레이더를 4체로 늘렸다. 익스텐션 제한 때문에 DNA길이를 더 늘릴 수가 없었다.
그리고 저 옆의 Metaforce가 망해간다. 여기 털어먹어야겠다. 문제는, 에너지가 부족한 1기지에서 출발하기엔 거리가 너무 멀고, 3기지는 저장소가 거의 다 차있다는 점이다.
또 다른 방법은 여기 방을 '점유'해서 특수 업그레이더 크립을 돌리는 것이다. GCL이 모자라서 이걸 못 한다는게 아쉽다.

3기지의 방어를 업그레이드할까?
업그레이드하기로 했다. 오버라이드 role을 삽입했다. 수동으로 콘솔에다 이 명령을 입력해야 한다.

 Memory.room.W66S41.defenceLevel = 5;

W66S41(3기지)의 벽과 Rampart를 5M까지 업그레이드한다. 당연히 벽과 Rampart는 같은 Hitpoint를 가져야 한다고 생각해서 이렇게 한 거긴 한데, 나중에 디펜스 스트렝스 매트릭스를 선언해서 사용하는 것도 생각해볼 수 있겠다.

룸 평가 함수보다 그냥 내가 수동으로 GeneBank하고 keep을 지정하는게(RCL 무관) 더 나을 것 같다는 생각이 든다. 어쨌거나 크립을 롤 베이스로 해야 하는데.

하여튼 1, 2번방은 방치중이고 3번방을 수동튜닝하고 있다. 앞으로도 계속 이럴 것 같은데, 이러면 룸 평가 함수 따위 의미없다. 내가 직접 DNA와 Keep을 지정하는 게 낫지. 지형이나 도로의 소요시간 등도 고려해서 설계해야 하니까 이만큼 정교하게 할 거 아니면 수동이 맞긴 한 것 같다. 그러면 이거에 맞춰서 자료구조를 세련되게 정비할 필요는 있겠다.

일단 스폰은 커스텀이라고 가정하고 그거에 맞춰서 코드 정리했다. 하지만 기존에 RCL별로 만들어뒀던 것들은 방이 발전하는 타이밍별로 최적 크립을 나타내는 것이기 때문에 보존해뒀다.

GCL은 택도 없고, Cryo는 이제 곧 RCL0를 찍으면서 영원히 사라질 것이고(건물이 아예 없다), 왠지 오른쪽 W62S39의 Metaforce가 로직이 붕괴한채로 한참이 지나서 망하려고 하고 있다. 스토리지에 엄청나게 쌓여있어서 뽑아가는 게 좋겠는데. 근데 3번방은 에너지가 넘쳐흐르고 있다. 여길 최대한 비워야 해서 업그레이더를 4체로 늘렸지만 아직 줄어들 기미가 안 보인다. 하루 정도 지나야 할듯.

1번방이나 3번방이나 Metaforce를 터는 데는 거리가 같다. 기왕이면 GCL4를 달성하고 아예 저놈 스토리지를 활용해서 방 자체를 개척하는 게 최고인데.
다만 스토리지가 빨갛게 돼있어서 에너지 뽑는 걸 못할 수도 있다.

그러고보니 W68S39의 Juge가 죽어있다? 2017년 2월 22일 오후 4시 50분경에 Atanner가 ATTACK으로 도배한 크립 한 놈 보내서 다 박살내버렸다. 얘는 방어력이 전혀 없던 애라서 언젠간 당하리라 생각하긴 했는데... 정말 Atanner는 심하게 호전적이다. GCL에 여유가 없는데도 주변을 다 침략해버리네. 날 치려고 준비하는 것도 아니고 리모트 하베스터를 위한 것도 아니고 그냥 침략했다. 어이가 없네. 나도 Cryo를 비슷하게 침략하긴 했다만.

하여튼 2월 27일 새벽 4시 34분 현재 3번방의 스토리지는 743,390에너지를 담고 있다. 빨리 소모해서 없애주길 바란다.